{% extends 'base/base.html' %}
{% load static %}

{% block title %}문의 상세 - MeetAgain{% endblock %}

{% block extra_head %}
<style>
  body {
    font-family: 'Noto Sans KR', sans-serif;
    background-color: #f8f9fa;
  }
</style>
{% endblock %}

{% block content %}
<div class="container" style="max-width: 820px; margin-top: 60px;">
  <h2 class="mb-4" style="color: #6A5ACD; font-weight: 700;">
    {{ inquiry.subject }}
  </h2>

  <p class="text-muted mb-3">
    문의 유형:
    <strong>{% if inquiry.get_category_display %}{{ inquiry.get_category_display }}{% else %}{{ inquiry.category }}{% endif %}</strong>
    · 작성일: {{ inquiry.created_at|date:"Y-m-d H:i" }}
    {% if inquiry.updated_at and inquiry.updated_at != inquiry.created_at %}
      · 수정: {{ inquiry.updated_at|date:"Y-m-d H:i" }}
    {% endif %}
  </p>

  <hr>

  <div class="mb-4">
    <h6 class="text-muted mb-2">문의 내용</h6>
    <div class="p-3 border rounded" style="background:#f4f2ff;">
      {{ inquiry.content|linebreaks }}
    </div>
  </div>

  <div class="mb-4">
    <h6 class="text-muted mb-2">답변</h6>
    {% if inquiry.response %}
      <div class="p-3 border rounded bg-white">
        {{ inquiry.response|linebreaks }}
      </div>
    {% else %}
      <div class="p-3 border rounded bg-white">
        <span class="text-muted">아직 답변이 등록되지 않았습니다.</span>
      </div>
    {% endif %}
  </div>

  <div class="d-flex gap-2">
    <a href="{% url 'meetagain:myinquiries' %}" class="btn btn-secondary">목록</a>

    {% if user.is_authenticated and user.id == inquiry.user_id and not inquiry.response %}
      <a href="{% url 'meetagain:inquiry_edit' inquiry.pk %}" 
         class="btn" 
         style="background-color: #6A5ACD; color: white; border: none;">
         수정하기
      </a>
    {% endif %}
  </div>
</div>
{% endblock %}
