{% extends 'base/base.html' %}
{% load static %}

{% block title %}1:1 문의하기 - MeetAgain{% endblock %}

{% block extra_head %}
<style>
  body {
    font-family: 'Noto Sans KR', sans-serif;
    background-color: #f8f9fa;
  }

  .page-wrap {
    max-width: 700px;
    margin: 60px auto 80px;
  }

  /* 제목/서브타이틀: help_faq와 동일 스타일 */
  .section-title {
    font-size: 2rem;
    font-weight: 700;
    margin-bottom: 30px;
    color: #6A5ACD;
    text-align: center;
  }

  .small-label {
    font-size: 1.2rem;
    font-weight: 600;
    color: #6c757d;
  }

  .form-label {
    font-weight: 600;
  }
</style>
{% endblock %}

{% block content %}
<div class="page-wrap">
  <h2 class="section-title">
    고객센터
    <span class="small-label d-block">1:1 문의하기</span>
  </h2>

  <form method="post"
        action="{% if inquiry %}{% url 'meetagain:inquiry_edit' inquiry.id %}{% else %}{% url 'meetagain:inquiry' %}{% endif %}">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-3">
      <label for="subject" class="form-label">제목</label>
      <input type="text" class="form-control" id="subject" name="subject"
             value="{{ form.subject.value|default_if_none:'' }}"
             placeholder="예: 알림 기능이 작동하지 않아요" required>
    </div>

    <div class="mb-3">
      <label for="category" class="form-label">문의 유형</label>
      <select class="form-select" id="category" name="category" required>
        <option disabled {% if not form.category.value %}selected{% endif %}>선택하세요</option>
        <option value="login" {% if form.category.value == 'login' %}selected{% endif %}>로그인 문제</option>
        <option value="lost" {% if form.category.value == 'lost' %}selected{% endif %}>분실물 등록/조회</option>
        <option value="account" {% if form.category.value == 'account' %}selected{% endif %}>계정 관련</option>
        <option value="other" {% if form.category.value == 'other' %}selected{% endif %}>기타</option>
      </select>
    </div>

    <div class="mb-3">
      <label for="content" class="form-label">문의 내용</label>
      <textarea class="form-control" id="content" name="content" rows="6"
                placeholder="자세한 내용을 입력해주세요." required>{{ form.content.value|default_if_none:'' }}</textarea>
    </div>

    <div class="text-end">
      <button type="submit" class="btn btn-primary" style="background-color: #6A5ACD;">
        {% if inquiry %}수정 저장{% else %}문의하기{% endif %}
      </button>
    </div>
  </form>
</div>
{% endblock %}
