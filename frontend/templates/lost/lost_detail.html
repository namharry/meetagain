{% extends "base/base.html" %}
{% load static %}

{% block title %}ë¶„ì‹¤ë¬¼ ìƒì„¸ë³´ê¸° | MeetAgain{% endblock %}

{% block extra_head %}
<style>
  body { 
    font-family: 'Noto Sans KR', sans-serif; 
    background-color:#f5f3fa; 
    color:#333; 
  }
  .container { 
    max-width:900px; 
    background:#fff; 
    padding:40px; 
    margin:60px auto;
    border-radius:12px; 
    box-shadow:0 0 20px rgba(0,0,0,.05); 
  }
  h2 { 
    font-weight:700; 
    font-size:1.8rem; 
    color:#5e3dc6; 
    text-align:center; 
    margin-bottom:30px; 
  }
  .img-box { 
    width:100%; 
    border-radius:8px; 
    object-fit:cover; 
    margin-bottom:20px; 
    border:1px solid #e0e0e0; 
  }
  .list-group-item { 
    border:none; 
    background:#f9f8fc; 
    margin-bottom:10px; 
    border-radius:8px; 
    padding:12px 16px; 
  }
  .label { 
    font-weight:600; 
    color:#5e3dc6;
    margin-right:10px; 
    display:inline-block; 
    width:120px; 
  }
  .btn-primary { 
    background:#7B3FF2; 
    border:none; 
  }
  .btn-primary:hover { 
    background:#6931d4; 
  }
  .btn-outline { 
    border:1px solid #ccc; 
    color:#333; 
  }
  .btn-outline:hover { 
    background:#f0eef9; 
    color:#5e3dc6; 
  }
  .detail-text { 
    background:#f8f7fb; 
    padding:16px; 
    border-radius:8px; 
    margin-top:15px; 
    font-size:.95rem; 
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0">ğŸ“¦ ë¶„ì‹¤ë¬¼ ìƒì„¸ ì •ë³´</h2>
    <a href="/items" class="btn btn-outline-secondary btn-sm">â† ëª©ë¡ìœ¼ë¡œ</a>
  </div>

  <div class="row g-4">
    <!-- ì´ë¯¸ì§€ ì˜ì—­ -->
    <div class="col-md-5">
      {% if lost_item.image %}
      <img src="{{ item.image.url }}" class="img-fluid rounded border" alt="{{ item.name|default:'ë¶„ì‹¤ë¬¼ ì‚¬ì§„' }}">
      {% else %}
      <img src="https://via.placeholder.com/400x300?text=Lost+Item" class="img-fluid rounded border" alt="ë¶„ì‹¤ë¬¼ ì‚¬ì§„">
      {% endif %}
    </div>

    <!-- ìƒì„¸ ì •ë³´ ì˜ì—­ -->
    <div class="col-md-7">
      <ul class="list-group shadow-sm">
        <li class="list-group-item d-flex justify-content-between">
          <strong>ë¬¼í’ˆëª…</strong> <span>{{ item.name }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <strong>ì¢…ë¥˜</strong> <span>{{ item.category }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <strong>ë¶„ì‹¤ì¥ì†Œ</strong> <span>{{ item.lost_locations }}</span>
        </li>
        {% if lost_item.lost_date_endtime %}
        <li class="list-group-item d-flex justify-content-between">
          <strong>ë¶„ì‹¤ì¼ì‹œ</strong> <span>{{ item.lost_date_endtime|date:"Yë…„ nì›” jì¼ H:i" }}</span>
        </li>
        {% endif %}
        {% if item.description %}
        <li class="list-group-item">
          <strong>íŠ¹ì§•</strong><br>
          {{ item.description|linebreaksbr }}
        </li>
        {% endif %}
      </ul>

      <div class="mt-4">
        {% if item.latitude and item.longitude %}
        <a class="btn btn-outline-primary" href="/map?lat={{ lost_item.latitude }}&lng={{ lost_item.longitude }}">
          ğŸ“ ì§€ë„ì—ì„œ ìœ„ì¹˜ ë³´ê¸°
        </a>
        {% else %}
        <button class="btn btn-outline-primary" disabled>ğŸ“ ì§€ë„ì—ì„œ ìœ„ì¹˜ ë³´ê¸° (ì¤€ë¹„ì¤‘)</button>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}