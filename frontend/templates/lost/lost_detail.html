{% extends "base/base.html" %}
{% load static %}

{% block title %}분실물 상세보기 | MeetAgain{% endblock %}

{% block extra_head %}
<style>
  body { 
    font-family: 'Noto Sans KR', sans-serif; 
    background-color:#f5f3fa; 
    color:#333; 
  }
  .container { 
    max-width:900px; 
    background:#fff; 
    padding:40px; 
    margin:60px auto;
    border-radius:12px; 
    box-shadow:0 0 20px rgba(0,0,0,.05); 
  }
  h2 { 
    font-weight:700; 
    font-size:1.8rem; 
    color:#5e3dc6; 
    text-align:center; 
    margin-bottom:30px; 
  }
  .img-box { 
    width:100%; 
    border-radius:8px; 
    object-fit:cover; 
    margin-bottom:20px; 
    border:1px solid #e0e0e0; 
  }
  .list-group-item { 
    border:none; 
    background:#f9f8fc; 
    margin-bottom:10px; 
    border-radius:8px; 
    padding:12px 16px; 
  }
  .label { 
    font-weight:600; 
    color:#5e3dc6;
    margin-right:10px; 
    display:inline-block; 
    width:120px; 
  }
  .btn-primary { 
    background:#7B3FF2; 
    border:none; 
  }
  .btn-primary:hover { 
    background:#6931d4; 
  }
  .btn-outline { 
    border:1px solid #ccc; 
    color:#333; 
  }
  .btn-outline:hover { 
    background:#f0eef9; 
    color:#5e3dc6; 
  }
  .detail-text { 
    background:#f8f7fb; 
    padding:16px; 
    border-radius:8px; 
    margin-top:15px; 
    font-size:.95rem; 
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0">📦 분실물 상세 정보</h2>
    <a href="/items" class="btn btn-outline-secondary btn-sm">← 목록으로</a>
  </div>

  <div class="row g-4">
    <!-- 이미지 영역 -->
    <div class="col-md-5">
      {% if lost_item.image %}
      <img src="{{ item.image.url }}" class="img-fluid rounded border" alt="{{ item.name|default:'분실물 사진' }}">
      {% else %}
      <img src="https://via.placeholder.com/400x300?text=Lost+Item" class="img-fluid rounded border" alt="분실물 사진">
      {% endif %}
    </div>

    <!-- 상세 정보 영역 -->
    <div class="col-md-7">
      <ul class="list-group shadow-sm">
        <li class="list-group-item d-flex justify-content-between">
          <strong>물품명</strong> <span>{{ item.name }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <strong>종류</strong> <span>{{ item.category }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <strong>분실장소</strong> <span>{{ item.lost_locations }}</span>
        </li>
        {% if lost_item.lost_date_endtime %}
        <li class="list-group-item d-flex justify-content-between">
          <strong>분실일시</strong> <span>{{ item.lost_date_endtime|date:"Y년 n월 j일 H:i" }}</span>
        </li>
        {% endif %}
        {% if item.description %}
        <li class="list-group-item">
          <strong>특징</strong><br>
          {{ item.description|linebreaksbr }}
        </li>
        {% endif %}
      </ul>

      <div class="mt-4">
        {% if item.latitude and item.longitude %}
        <a class="btn btn-outline-primary" href="/map?lat={{ lost_item.latitude }}&lng={{ lost_item.longitude }}">
          📍 지도에서 위치 보기
        </a>
        {% else %}
        <button class="btn btn-outline-primary" disabled>📍 지도에서 위치 보기 (준비중)</button>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}