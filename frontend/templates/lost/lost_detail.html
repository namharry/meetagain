{% extends "base/base.html" %}
{% load static %}

{% block title %}분실물 상세보기 | MeetAgain{% endblock %}

{% block content %}
<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="m-0">📦 분실물 상세 정보</h2>
    <a href="/items" class="btn btn-outline-secondary btn-sm">← 목록으로</a>
  </div>

  <div class="row g-4">
    <!-- 이미지 영역 -->
    <div class="col-md-5">
      {% if lost_item.image %}
      <img src="{{ item.image.url }}" class="img-fluid rounded border" alt="{{ item.name|default:'분실물 사진' }}">
      {% else %}
      <img src="https://via.placeholder.com/400x300?text=Lost+Item" class="img-fluid rounded border" alt="분실물 사진">
      {% endif %}
    </div>

    <!-- 상세 정보 영역 -->
    <div class="col-md-7">
      <ul class="list-group shadow-sm">
        <li class="list-group-item d-flex justify-content-between">
          <strong>물품명</strong> <span>{{ item.name }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <strong>종류</strong> <span>{{ item.category }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between">
          <strong>분실장소</strong> <span>{{ item.lost_locations }}</span>
        </li>
        {% if lost_item.lost_date_endtime %}
        <li class="list-group-item d-flex justify-content-between">
          <strong>분실일시</strong> <span>{{ item.lost_date_endtime|date:"Y년 n월 j일 H:i" }}</span>
        </li>
        {% endif %}
        {% if item.description %}
        <li class="list-group-item">
          <strong>특징</strong><br>
          {{ item.description|linebreaksbr }}
        </li>
        {% endif %}
      </ul>

      <div class="mt-4">
        {% if item.latitude and item.longitude %}
        <a class="btn btn-outline-primary" href="/map?lat={{ lost_item.latitude }}&lng={{ lost_item.longitude }}">
          📍 지도에서 위치 보기
        </a>
        {% else %}
        <button class="btn btn-outline-primary" disabled>📍 지도에서 위치 보기 (준비중)</button>
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}